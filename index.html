<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中国共产主义青年团 - 青春向党 奋斗强国</title>
    <style>
        /* 全局样式重置 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", sans-serif;
        }

        /* 主题色定义 - 共青团红色为主色调 */
        :root {
            --primary-color: #E74C3C; /* 共青团红 */
            --secondary-color: #C0392B; /* 深红 */
            --text-color: #333;
            --light-color: #f8f9fa;
            --gray-color: #6c757d;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --info-color: #17a2b8;
            --super-admin-color: #9b59b6; /* 超级管理员紫色 */
        }

        /* 导航栏样式 */
        .navbar {
            background-color: var(--primary-color);
            color: white;
            padding: 0 5%;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .navbar-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 60px;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.5rem;
            font-weight: bold;
        }

            .logo img {
                height: 40px;
                margin-right: 10px;
            }

        .nav-menu {
            display: flex;
            list-style: none;
        }

        .nav-item {
            margin: 0 15px;
        }

        .nav-link {
            color: white;
            text-decoration: none;
            font-size: 1rem;
            transition: color 0.3s;
        }

            .nav-link:hover {
                color: #f1c40f;
            }

        .menu-toggle {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* 登录相关样式 */
        .login-buttons {
            display: flex;
            gap: 10px;
        }

        .login-btn {
            background-color: rgba(255,255,255,0.2);
            border: 1px solid white;
            padding: 6px 15px;
            border-radius: 4px;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s;
        }

            .login-btn:hover {
                background-color: rgba(255,255,255,0.3);
            }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-role {
            font-size: 0.8rem;
            padding: 2px 8px;
            border-radius: 10px;
        }

        .user-role.admin {
            background-color: rgba(255,255,255,0.2);
        }

        .user-role.super-admin {
            background-color: var(--super-admin-color);
        }

        .logout-btn {
            background-color: transparent;
            border: 1px solid white;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
        }

            .logout-btn:hover {
                background-color: rgba(255,255,255,0.2);
            }

        /* 登录弹窗样式 */
        .login-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 3000;
            visibility: hidden;
            opacity: 0;
            transition: visibility 0s, opacity 0.3s;
        }

            .login-modal-overlay.active {
                visibility: visible;
                opacity: 1;
            }

        .login-modal {
            background-color: white;
            width: 90%;
            max-width: 400px;
            border-radius: 8px;
            padding: 40px 30px;
            position: relative;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }

        .login-modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.2rem;
            cursor: pointer;
            color: var(--gray-color);
        }

        .login-modal-title {
            text-align: center;
            font-size: 1.8rem;
            color: var(--primary-color);
            margin-bottom: 30px;
        }

        .login-type-selector {
            display: flex;
            margin-bottom: 20px;
            border-radius: 4px;
            overflow: hidden;
            border: 1px solid #ddd;
        }

        .login-type-btn {
            flex: 1;
            padding: 12px;
            text-align: center;
            background-color: #f8f9fa;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
        }

            .login-type-btn.active {
                background-color: var(--primary-color);
                color: white;
                font-weight: 500;
            }

        .login-form-group {
            margin-bottom: 20px;
        }

        .login-form-label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-color);
            font-weight: 500;
        }

        .login-form-input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }

            .login-form-input:focus {
                outline: none;
                border-color: var(--primary-color);
            }

        .login-form-btn {
            width: 100%;
            padding: 12px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 10px;
        }

            .login-form-btn:hover {
                background-color: var(--secondary-color);
            }

        .login-error {
            color: var(--danger-color);
            text-align: center;
            margin-bottom: 15px;
            height: 20px;
            display: none;
        }

            .login-error.active {
                display: block;
            }

        /* 管理员专属菜单项样式 - 默认隐藏 */
        .admin-only {
            display: none;
        }

        /* 超级管理员专属样式 */
        .super-admin-only {
            display: none;
        }

        /* 权限提示样式 */
        .permission-tip {
            text-align: center;
            padding: 50px 20px;
            color: var(--gray-color);
            font-size: 1.2rem;
        }

            .permission-tip button {
                margin-top: 20px;
            }

        /* 轮播图样式 */
        .carousel {
            margin-top: 60px;
            position: relative;
            width: 100%;
            height: 500px;
            overflow: hidden;
        }

        .carousel-slides {
            display: flex;
            width: 300%;
            height: 100%;
            transition: transform 0.5s ease;
        }

        .carousel-slide {
            width: 100%;
            height: 100%;
        }

            .carousel-slide img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }

        .carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0,0,0,0.5);
            color: white;
            border: none;
            padding: 10px 15px;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 10;
        }

        .prev-btn {
            left: 20px;
        }

        .next-btn {
            right: 20px;
        }

        .carousel-indicators {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
        }

        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: rgba(255,255,255,0.5);
            cursor: pointer;
            transition: background-color 0.3s;
        }

            .indicator.active {
                background-color: white;
            }

        /* 内容区域通用样式 */
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 50px auto;
        }

        .section-title {
            text-align: center;
            margin-bottom: 40px;
            color: var(--primary-color);
            font-size: 2rem;
            position: relative;
        }

            .section-title::after {
                content: "";
                display: block;
                width: 80px;
                height: 3px;
                background-color: var(--primary-color);
                margin: 10px auto;
            }

        /* 新闻资讯板块 */
        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
        }

        .news-card {
            border: 1px solid #eee;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

            .news-card:hover {
                transform: translateY(-5px);
            }

        .news-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .news-content {
            padding: 20px;
        }

        .news-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--text-color);
        }

        .news-date {
            color: var(--gray-color);
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .news-desc {
            color: #555;
            line-height: 1.6;
        }

        .read-more {
            display: inline-block;
            margin-top: 15px;
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

            .read-more:hover {
                color: var(--secondary-color);
            }

        /* 团史介绍板块 */
        .history-section {
            background-color: var(--light-color);
            padding: 60px 0;
            margin: 50px 0;
        }

        .history-content {
            display: flex;
            align-items: center;
            gap: 40px;
        }

        .history-img {
            flex: 1;
            border-radius: 8px;
            overflow: hidden;
        }

            .history-img img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }

        .history-text {
            flex: 2;
            line-height: 1.8;
            color: var(--text-color);
            font-size: 1.1rem;
        }

        /* 入团指引板块 */
        .guide-steps {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 20px;
        }

        .guide-step {
            flex: 1;
            min-width: 250px;
            text-align: center;
            padding: 30px 20px;
            border: 1px solid var(--primary-color);
            border-radius: 8px;
            transition: background-color 0.3s;
        }

            .guide-step:hover {
                background-color: rgba(231, 76, 60, 0.05);
            }

        .step-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            line-height: 40px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .step-title {
            font-size: 1.2rem;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .step-desc {
            color: #555;
            line-height: 1.6;
        }

        /* 团员管理系统样式 */
        .member-section {
            background-color: var(--light-color);
            padding: 60px 0;
            margin: 50px 0;
        }

        .member-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .search-box {
            display: flex;
            gap: 10px;
        }

        .search-input {
            padding: 8px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            width: 250px;
            font-size: 0.9rem;
        }

        .btn {
            padding: 8px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.3s;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

            .btn-primary:hover {
                background-color: var(--secondary-color);
            }

        .btn-success {
            background-color: var(--success-color);
            color: white;
        }

            .btn-success:hover {
                background-color: #218838;
            }

        .btn-warning {
            background-color: var(--warning-color);
            color: #212529;
        }

            .btn-warning:hover {
                background-color: #e0a800;
            }

        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }

            .btn-danger:hover {
                background-color: #c82333;
            }

        .btn-info {
            background-color: var(--info-color);
            color: white;
        }

            .btn-info:hover {
                background-color: #138496;
            }

        .btn-super {
            background-color: var(--super-admin-color);
            color: white;
        }

            .btn-super:hover {
                background-color: #8e44ad;
            }

        .member-table {
            width: 100%;
            border-collapse: collapse;
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

            .member-table th, .member-table td {
                padding: 15px;
                text-align: left;
                border-bottom: 1px solid #eee;
            }

            .member-table th {
                background-color: var(--primary-color);
                color: white;
                font-weight: normal;
            }

            .member-table tr:hover {
                background-color: rgba(231, 76, 60, 0.05);
            }

        .action-buttons {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        /* 用户账号管理模块样式 */
        .account-manage-section {
            background-color: #fff;
            padding: 60px 0;
            margin: 50px 0;
            border-top: 1px solid #eee;
        }

        .account-tabs {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .account-tab {
            padding: 10px 30px;
            background-color: var(--light-color);
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }

            .account-tab.active {
                background-color: var(--primary-color);
                color: white;
            }

            .account-tab:hover:not(.active) {
                background-color: #e9ecef;
            }

        .account-table {
            width: 100%;
            border-collapse: collapse;
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

            .account-table th, .account-table td {
                padding: 15px;
                text-align: left;
                border-bottom: 1px solid #eee;
            }

            .account-table th {
                background-color: var(--primary-color);
                color: white;
                font-weight: normal;
            }

            .account-table tr:hover {
                background-color: rgba(231, 76, 60, 0.05);
            }

        /* 管理员账号管理样式 */
        .admin-manage-section {
            background-color: #fff;
            padding: 60px 0;
            margin: 50px 0;
            border-top: 1px solid #eee;
        }

        /* 分配账号弹窗样式 */
        .assign-modal {
            background-color: white;
            width: 90%;
            max-width: 500px;
            border-radius: 8px;
            padding: 30px;
            position: relative;
        }

        /* 修改账号弹窗样式 */
        .edit-account-modal {
            background-color: white;
            width: 90%;
            max-width: 500px;
            border-radius: 8px;
            padding: 30px;
            position: relative;
        }

        /* 修改用户名弹窗样式 */
        .edit-username-modal {
            background-color: white;
            width: 90%;
            max-width: 500px;
            border-radius: 8px;
            padding: 30px;
            position: relative;
        }

        /* 管理员管理弹窗样式 */
        .admin-manage-modal {
            background-color: white;
            width: 90%;
            max-width: 600px;
            border-radius: 8px;
            padding: 30px;
            position: relative;
        }

        /* 弹窗样式 */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            visibility: hidden;
            opacity: 0;
            transition: visibility 0s, opacity 0.3s;
        }

            .modal-overlay.active {
                visibility: visible;
                opacity: 1;
            }

        .modal {
            background-color: white;
            width: 90%;
            max-width: 600px;
            border-radius: 8px;
            padding: 30px;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray-color);
        }

        .modal-title {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-color);
            font-weight: 500;
        }

        .form-input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 30px;
        }

        /* 提示消息样式 */
        .toast {
            position: fixed;
            top: 80px;
            right: 20px;
            padding: 15px 25px;
            background-color: var(--success-color);
            color: white;
            border-radius: 4px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 2000;
            visibility: hidden;
            opacity: 0;
            transition: all 0.3s;
            transform: translateX(100%);
        }

            .toast.active {
                visibility: visible;
                opacity: 1;
                transform: translateX(0);
            }

            .toast.error {
                background-color: var(--danger-color);
            }

        /* 响应式适配 - 重点优化移动端 */
        @media (max-width: 768px) {
            /* 导航栏优化 */
            .navbar-container {
                height: 55px;
            }
            
            .logo {
                font-size: 1rem; /* 减小字体 */
            }
            
            .logo img {
                height: 35px;
                margin-right: 8px;
            }
            
            .menu-toggle {
                display: block;
                font-size: 1.3rem; /* 减小汉堡菜单大小 */
            }

            .nav-menu {
                position: fixed;
                top: 55px;
                left: -100%;
                flex-direction: column;
                background-color: var(--primary-color);
                width: 100%;
                height: calc(100vh - 55px);
                transition: left 0.3s;
                padding: 15px;
                overflow-y: auto;
            }

                .nav-menu.active {
                    left: 0;
                }

            .nav-item {
                margin: 12px 0;
            }
            
            .nav-link {
                font-size: 0.9rem; /* 减小导航链接字体 */
                padding: 8px 0;
                display: block;
            }

            /* 移动端用户信息优化 */
            .user-info {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
                padding: 10px 0;
            }
            
            .user-role {
                font-size: 0.7rem;
                padding: 2px 6px;
            }
            
            .logout-btn {
                padding: 4px 8px;
                font-size: 0.7rem;
                align-self: flex-start;
            }

            .carousel {
                height: 300px;
            }

            .history-content {
                flex-direction: column;
            }

            .guide-step {
                flex: 100%;
            }

            /* 团员管理响应式 */
            .member-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .search-input {
                width: 100%;
            }

            .member-table, .account-table {
                font-size: 0.8rem;
                display: block;
                overflow-x: auto;
            }

                .member-table th, .member-table td,
                .account-table th, .account-table td {
                    padding: 10px 8px;
                    min-width: 80px;
                }

            .action-buttons {
                flex-direction: column;
                gap: 5px;
            }

            .btn {
                padding: 6px 10px;
                font-size: 0.8rem;
                width: 100%;
            }

            /* 登录按钮响应式 */
            .login-buttons {
                flex-direction: column;
                gap: 5px;
            }

            .login-btn {
                padding: 5px 10px;
                font-size: 0.8rem;
            }

            /* 账号管理标签响应式 */
            .account-tab {
                padding: 8px 15px;
                font-size: 0.8rem;
                flex: 1;
                text-align: center;
            }
            
            .account-tabs {
                gap: 10px;
            }
            
            /* 登录弹窗响应式 */
            .login-modal {
                padding: 30px 20px;
                margin: 20px;
            }
            
            .login-modal-title {
                font-size: 1.5rem;
                margin-bottom: 20px;
            }
            
            .login-type-btn {
                padding: 10px;
                font-size: 0.9rem;
            }
            
            .login-form-input {
                padding: 10px 12px;
                font-size: 0.9rem;
            }
            
            .login-form-btn {
                padding: 10px;
                font-size: 0.9rem;
            }
            
            /* 弹窗响应式 */
            .modal, .assign-modal, .edit-account-modal, .edit-username-modal, .admin-manage-modal {
                padding: 20px 15px;
                margin: 20px;
            }
            
            .form-actions {
                flex-direction: column;
            }
            
            .form-actions .btn {
                width: 100%;
            }
            
            /* 通用字体调整 */
            .section-title {
                font-size: 1.5rem;
            }
            
            .news-title {
                font-size: 1rem;
            }
            
            .history-text {
                font-size: 0.95rem;
            }
            
            .step-title {
                font-size: 1rem;
            }
            
            /* 表格操作按钮优化 */
            .action-buttons .btn {
                margin-bottom: 5px;
            }
        }

        /* 页脚样式 */
        footer {
            background-color: #2c3e50;
            color: white;
            padding: 50px 0 20px;
            margin-top: 80px;
        }

        .footer-content {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 40px;
            margin-bottom: 30px;
        }

        .footer-col {
            flex: 1;
            min-width: 200px;
        }

            .footer-col h3 {
                font-size: 1.2rem;
                margin-bottom: 20px;
                color: var(--primary-color);
            }

            .footer-col ul {
                list-style: none;
            }

            .footer-col li {
                margin-bottom: 10px;
            }

            .footer-col a {
                color: #bdc3c7;
                text-decoration: none;
                transition: color 0.3s;
            }

                .footer-col a:hover {
                    color: white;
                }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #34495e;
            color: #bdc3c7;
            font-size: 0.9rem;
        }
        
        /* 移动端导航栏logo优化 */
        @media (max-width: 480px) {
            .logo {
                font-size: 0.9rem;
            }
            
            .logo img {
                height: 30px;
                margin-right: 5px;
            }
            
            .menu-toggle {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="navbar-container">
            <div class="logo">
                中国共产主义青年团
            </div>
            <ul class="nav-menu">
                <li class="nav-item"><a href="#home" class="nav-link">首页</a></li>
                <li class="nav-item"><a href="#news" class="nav-link">新闻资讯</a></li>
                <li class="nav-item"><a href="#history" class="nav-link">团史介绍</a></li>
                <li class="nav-item"><a href="#guide" class="nav-link">入团指引</a></li>
                <!-- 管理员专属菜单项 - 默认隐藏 -->
                <li class="nav-item admin-only"><a href="#member" class="nav-link">团员管理</a></li>
                <li class="nav-item admin-only"><a href="#account-manage" class="nav-link">账号管理</a></li>
                <li class="nav-item super-admin-only"><a href="#admin-manage" class="nav-link">管理员管理</a></li>
                <li class="nav-item"><a href="#contact" class="nav-link">联系我们</a></li>
            </ul>
            <!-- 登录/用户信息区域 -->
            <div class="user-actions" id="userActions">
                <div class="login-buttons">
                    <button class="login-btn" id="showLoginBtn">登录</button>
                </div>
            </div>
            <div class="menu-toggle">☰</div>
        </div>
    </nav>

    <!-- 登录弹窗 -->
    <div class="login-modal-overlay" id="loginModal">
        <div class="login-modal">
            <span class="login-modal-close" id="loginModalClose">×</span>
            <h3 class="login-modal-title">登录</h3>
            <!-- 登录类型选择 -->
            <div class="login-type-selector">
                <button class="login-type-btn active" data-type="user">团员登录</button>
                <button class="login-type-btn" data-type="admin">管理员登录</button>
            </div>
            <div class="login-error" id="loginError">账号或密码错误，请重试！</div>
            <form id="loginForm">
                <div class="login-form-group">
                    <label class="login-form-label" for="username">用户名</label>
                    <input type="text" class="login-form-input" id="username" placeholder="请输入用户名" required>
                </div>
                <div class="login-form-group">
                    <label class="login-form-label" for="password">密码</label>
                    <input type="password" class="login-form-input" id="password" placeholder="请输入密码" required>
                </div>
                <button type="submit" class="login-form-btn">登录</button>
            </form>
        </div>
    </div>

    <!-- 分配用户账号弹窗 -->
    <div class="modal-overlay" id="assignAccountModal">
        <div class="assign-modal">
            <span class="modal-close" id="assignAccountModalClose">×</span>
            <h3 class="modal-title">分配团员账号</h3>
            <form id="assignAccountForm">
                <input type="hidden" id="assignMemberId">

                <div class="form-group">
                    <label class="form-label" for="assignUsername">用户名 *</label>
                    <input type="text" class="form-input" id="assignUsername" required placeholder="设置团员登录用户名">
                </div>

                <div class="form-group">
                    <label class="form-label" for="assignPassword">初始密码 *</label>
                    <input type="password" class="form-input" id="assignPassword" required placeholder="设置团员初始密码">
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-warning" id="cancelAssignBtn">取消</button>
                    <button type="submit" class="btn btn-primary">保存账号</button>
                </div>
            </form>
        </div>
    </div>

    <!-- 修改账号弹窗 -->
    <div class="modal-overlay" id="editAccountModal">
        <div class="edit-account-modal">
            <span class="modal-close" id="editAccountModalClose">×</span>
            <h3 class="modal-title">修改团员账号</h3>
            <form id="editAccountForm">
                <input type="hidden" id="editAccountId">
                <input type="hidden" id="editMemberId">

                <div class="form-group">
                    <label class="form-label" for="editUsername">用户名</label>
                    <input type="text" class="form-input" id="editUsername" placeholder="输入新用户名，留空则不修改">
                </div>

                <div class="form-group">
                    <label class="form-label" for="editPassword">新密码</label>
                    <input type="password" class="form-input" id="editPassword" placeholder="输入新密码，留空则不修改">
                </div>

                <div class="form-group">
                    <label class="form-label" for="resetPassword">快速重置密码</label>
                    <div style="display: flex; align-items: center; gap: 10px; margin-top: 5px;">
                        <button type="button" class="btn btn-warning" id="resetPwdBtn">重置为123456</button>
                        <span style="color: var(--gray-color); font-size: 0.8rem;">（默认初始密码）</span>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-warning" id="cancelEditBtn">取消</button>
                    <button type="submit" class="btn btn-primary">保存修改</button>
                </div>
            </form>
        </div>
    </div>

    <!-- 管理员管理弹窗 -->
    <div class="modal-overlay" id="adminManageModal">
        <div class="admin-manage-modal">
            <span class="modal-close" id="adminManageModalClose">×</span>
            <h3 class="modal-title">管理员管理</h3>
            <form id="adminManageForm">
                <input type="hidden" id="adminId">
                
                <div class="form-group">
                    <label class="form-label" for="adminUsername">用户名 *</label>
                    <input type="text" class="form-input" id="adminUsername" required placeholder="请输入管理员用户名">
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="adminPassword">密码 *</label>
                    <input type="password" class="form-input" id="adminPassword" required placeholder="请输入管理员密码">
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="adminType">管理员类型</label>
                    <select class="form-input" id="adminType">
                        <option value="admin">普通管理员</option>
                        <option value="super">超级管理员</option>
                    </select>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-warning" id="cancelAdminBtn">取消</button>
                    <button type="submit" class="btn btn-super">保存</button>
                </div>
            </form>
        </div>
    </div>

    <!-- 轮播图 -->
    <div class="carousel" id="home">
        <div class="carousel-slides">
            <div class="carousel-slide">
                <img src="https://picsum.photos/id/1002/1920/500" alt="共青团宣传图1">
            </div>
            <div class="carousel-slide">
                <img src="https://picsum.photos/id/1015/1920/500" alt="共青团宣传图2">
            </div>
            <div class="carousel-slide">
                <img src="https://picsum.photos/id/1018/1920/500" alt="共青团宣传图3">
            </div>
        </div>
        <button class="carousel-btn prev-btn">‹</button>
        <button class="carousel-btn next-btn">›</button>
        <div class="carousel-indicators">
            <div class="indicator active" data-index="0"></div>
            <div class="indicator" data-index="1"></div>
            <div class="indicator" data-index="2"></div>
        </div>
    </div>

    <!-- 新闻资讯板块 -->
    <section class="container" id="news">
        <h2 class="section-title">最新资讯</h2>
        <div class="news-grid">
            <div class="news-card">
                <img src="https://picsum.photos/id/1025/300/200" alt="新闻图片1" class="news-img">
                <div class="news-content">
                    <h3 class="news-title">共青团中央部署开展主题教育实践活动</h3>
                    <div class="news-date">2026-01-10</div>
                    <p class="news-desc">为深入学习贯彻习近平新时代中国特色社会主义思想，共青团中央决定在全团开展主题教育实践活动，引导广大青年坚定理想信念...</p>
                    <a href="#" class="read-more">阅读全文 →</a>
                </div>
            </div>
            <div class="news-card">
                <img src="https://picsum.photos/id/1035/300/200" alt="新闻图片2" class="news-img">
                <div class="news-content">
                    <h3 class="news-title">全国青年岗位能手评选结果公布</h3>
                    <div class="news-date">2026-01-08</div>
                    <p class="news-desc">近日，2025年度全国青年岗位能手评选结果正式公布，共有1000名优秀青年荣获此项荣誉，展现了新时代青年的担当与作为...</p>
                    <a href="#" class="read-more">阅读全文 →</a>
                </div>
            </div>
            <div class="news-card">
                <img src="https://picsum.photos/id/1045/300/200" alt="新闻图片3" class="news-img">
                <div class="news-content">
                    <h3 class="news-title">大学生志愿服务西部计划启动报名</h3>
                    <div class="news-date">2026-01-05</div>
                    <p class="news-desc">2026年大学生志愿服务西部计划正式启动报名，计划招募2万名高校毕业生到西部基层开展志愿服务，服务期1-3年...</p>
                    <a href="#" class="read-more">阅读全文 →</a>
                </div>
            </div>
        </div>
    </section>

    <!-- 团史介绍板块 -->
    <section class="history-section" id="history">
        <div class="container">
            <h2 class="section-title">共青团发展史</h2>
            <div class="history-content">
                <div class="history-img">
                    <img src="https://picsum.photos/id/1055/600/400" alt="共青团历史">
                </div>
                <div class="history-text">
                    <p>中国共产主义青年团，简称共青团，是中国共产党领导的先进青年的群团组织，是广大青年在实践中学习中国特色社会主义和共产主义的学校，是中国共产党的助手和后备军。</p>
                    <br>
                    <p>1922年5月5日，中国社会主义青年团第一次全国代表大会在广州召开，标志着中国青年团组织的正式成立。1925年1月，中国社会主义青年团更名为中国共产主义青年团。</p>
                    <br>
                    <p>百年来，共青团始终紧跟党的步伐，团结带领一代又一代青年为实现中华民族伟大复兴的中国梦而不懈奋斗。在不同历史时期，共青团都发挥了重要作用，成为党联系青年的桥梁和纽带。</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 入团指引板块 -->
    <section class="container" id="guide">
        <h2 class="section-title">入团指引</h2>
        <div class="guide-steps">
            <div class="guide-step">
                <div class="step-number">1</div>
                <h3 class="step-title">提交申请</h3>
                <p class="step-desc">年满14周岁的青年可向所在单位、学校的团组织提交入团申请书，表达入团意愿。</p>
            </div>
            <div class="guide-step">
                <div class="step-number">2</div>
                <h3 class="step-title">团组织考察</h3>
                <p class="step-desc">团组织对申请人进行为期三个月以上的考察，了解其思想、学习、工作表现。</p>
            </div>
            <div class="guide-step">
                <div class="step-number">3</div>
                <h3 class="step-title">确定发展对象</h3>
                <p class="step-desc">考察合格后，团组织确定为发展对象，并安排两名正式团员作为介绍人。</p>
            </div>
            <div class="guide-step">
                <div class="step-number">4</div>
                <h3 class="step-title">入团宣誓</h3>
                <p class="step-desc">经支部大会讨论通过并报上级团组织批准后，举行入团宣誓仪式，正式成为团员。</p>
            </div>
        </div>
    </section>

    <!-- 团员管理系统板块 - 管理员登录后才显示 -->
    <section class="member-section" id="member" style="display: none;">
        <div class="container">
            <h2 class="section-title">团员管理系统</h2>
            
            <!-- 团员管理内容 -->
            <div id="memberContent">
                <!-- 操作栏：搜索 + 新增按钮 -->
                <div class="member-controls">
                    <div class="search-box">
                        <input type="text" class="search-input" id="searchInput" placeholder="输入姓名/学号/支部搜索...">
                        <button class="btn btn-primary" id="searchBtn">搜索</button>
                    </div>
                    <div id="adminControls">
                        <button class="btn btn-primary" id="addMemberBtn">新增团员</button>
                    </div>
                </div>

                <!-- 团员列表表格 -->
                <table class="member-table">
                    <thead>
                        <tr>
                            <th>序号</th>
                            <th>姓名</th>
                            <th>性别</th>
                            <th>出生年月</th>
                            <th>学号/工号</th>
                            <th>所属支部</th>
                            <th>入团时间</th>
                            <th>联系电话</th>
                            <th>账号状态</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody id="memberTableBody">
                        <!-- 团员数据会通过JS动态生成 -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- 用户账号管理板块 - 管理员登录后才显示 -->
    <section class="account-manage-section" id="account-manage" style="display: none;">
        <div class="container">
            <h2 class="section-title">用户账号分配管理系统</h2>

            <!-- 账号管理内容 -->
            <div id="accountManageContent">
                <!-- 账号管理标签页 -->
                <div class="account-tabs">
                    <button class="account-tab active" data-tab="all">所有账号</button>
                    <button class="account-tab" data-tab="assigned">已分配账号</button>
                    <button class="account-tab" data-tab="unassigned">未分配账号团员</button>
                </div>

                <!-- 账号搜索 -->
                <div class="member-controls" style="margin-top: 20px;">
                    <div class="search-box">
                        <input type="text" class="search-input" id="accountSearchInput" placeholder="输入姓名/用户名/学号搜索...">
                        <button class="btn btn-primary" id="accountSearchBtn">搜索</button>
                    </div>
                </div>

                <!-- 账号列表表格 -->
                <table class="account-table">
                    <thead>
                        <tr>
                            <th>序号</th>
                            <th>团员姓名</th>
                            <th>学号/工号</th>
                            <th>所属支部</th>
                            <th>用户名</th>
                            <th>密码状态</th>
                            <th>创建时间</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody id="accountTableBody">
                        <!-- 账号数据会通过JS动态生成 -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- 管理员管理板块 - 超级管理员登录后才显示 -->
    <section class="admin-manage-section" id="admin-manage" style="display: none;">
        <div class="container">
            <h2 class="section-title">管理员管理系统</h2>

            <!-- 管理员管理内容 -->
            <div id="adminManageContent">
                <div class="member-controls" style="margin-top: 20px;">
                    <div class="search-box">
                        <input type="text" class="search-input" id="adminSearchInput" placeholder="输入管理员用户名搜索...">
                        <button class="btn btn-primary" id="adminSearchBtn">搜索</button>
                    </div>
                    <div>
                        <button class="btn btn-super" id="addAdminBtn">添加管理员</button>
                    </div>
                </div>

                <!-- 管理员列表表格 -->
                <table class="account-table">
                    <thead>
                        <tr>
                            <th>序号</th>
                            <th>用户名</th>
                            <th>管理员类型</th>
                            <th>创建时间</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody id="adminTableBody">
                        <!-- 管理员数据会通过JS动态生成 -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- 团员表单弹窗 -->
    <div class="modal-overlay" id="memberModal">
        <div class="modal">
            <span class="modal-close" id="modalClose">×</span>
            <h3 class="modal-title" id="modalTitle">新增团员</h3>
            <form id="memberForm">
                <input type="hidden" id="memberId">

                <div class="form-group">
                    <label class="form-label" for="name">姓名 *</label>
                    <input type="text" class="form-input" id="name" required placeholder="请输入姓名">
                </div>

                <div class="form-group">
                    <label class="form-label" for="gender">性别 *</label>
                    <select class="form-input" id="gender" required>
                        <option value="">请选择</option>
                        <option value="男">男</option>
                        <option value="女">女</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label" for="birthDate">出生年月 *</label>
                    <input type="date" class="form-input" id="birthDate" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="studentId">学号/工号 *</label>
                    <input type="text" class="form-input" id="studentId" required placeholder="请输入学号或工号">
                </div>

                <div class="form-group">
                    <label class="form-label" for="branch">所属支部 *</label>
                    <input type="text" class="form-input" id="branch" required placeholder="如：计算机学院2024级1支部">
                </div>

                <div class="form-group">
                    <label class="form-label" for="joinDate">入团时间 *</label>
                    <input type="date" class="form-input" id="joinDate" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="phone">联系电话</label>
                    <input type="tel" class="form-input" id="phone" placeholder="请输入联系电话">
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-warning" id="cancelBtn">取消</button>
                    <button type="submit" class="btn btn-primary">保存</button>
                </div>
            </form>
        </div>
    </div>

    <!-- 提示消息组件 -->
    <div class="toast" id="toast"></div>

    <!-- 页脚 -->
    <footer id="contact">
        <div class="container footer-content">
            <div class="footer-col">
                <h3>关于我们</h3>
                <ul>
                    <li><a href="#">共青团简介</a></li>
                    <li><a href="#">组织机构</a></li>
                    <li><a href="#">领导致辞</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h3>服务指南</h3>
                <ul>
                    <li><a href="#">入团申请</a></li>
                    <li><a href="#">团员管理</a></li>
                    <li><a href="#">活动报名</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h3>联系我们</h3>
                <ul>
                    <li><a href="#">联系电话：010-12345678</a></li>
                    <li><a href="#">邮箱：contact@gqt.org.cn</a></li>
                    <li><a href="#">地址：北京市XX区XX路XX号</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            © 2026 中国共产主义青年团 版权所有
        </div>
    </footer>

    <script>
        // 系统配置
        const SYSTEM_CONFIG = {
            // 存储键名
            storageKeys: {
                loginState: 'loginState',
                members: 'members',
                userAccounts: 'userAccounts',
                adminAccounts: 'adminAccounts'
            }
        };

        // 初始化管理员账号
        function initAdminAccounts() {
            if (!localStorage.getItem(SYSTEM_CONFIG.storageKeys.adminAccounts)) {
                // 默认管理员账号
                const defaultAdmins = [
                    { 
                        id: 1, 
                        username: 'admin', 
                        password: 'admin123', 
                        type: 'super', // super: 超级管理员, admin: 普通管理员
                        createTime: new Date().toISOString(),
                        isDefault: true // 标记为默认管理员，不能删除
                    }
                ];
                localStorage.setItem(SYSTEM_CONFIG.storageKeys.adminAccounts, JSON.stringify(defaultAdmins));
            }
        }

        // 获取管理员账号
        function getAdminAccounts() {
            return JSON.parse(localStorage.getItem(SYSTEM_CONFIG.storageKeys.adminAccounts)) || [];
        }

        // 保存管理员账号
        function saveAdminAccounts(adminAccounts) {
            localStorage.setItem(SYSTEM_CONFIG.storageKeys.adminAccounts, JSON.stringify(adminAccounts));
        }

        // ========== 登录状态管理 ==========
        function getLoginState() {
            const state = localStorage.getItem(SYSTEM_CONFIG.storageKeys.loginState);
            return state ? JSON.parse(state) : { isLoggedIn: false, userType: '', userId: '', username: '', adminType: '' };
        }

        function setLoginState(isLoggedIn, userType, userId = '', username = '', adminType = '') {
            const state = { isLoggedIn, userType, userId, username, adminType };
            localStorage.setItem(SYSTEM_CONFIG.storageKeys.loginState, JSON.stringify(state));
            updateUI();
        }

        function logout() {
            if (confirm('确定要退出登录吗？')) {
                setLoginState(false, '', '', '', '');
                showToast('已成功退出登录');
            }
        }

        // ========== 更新UI ==========
        function updateUI() {
            const loginState = getLoginState();
            const userActions = document.getElementById('userActions');
            const adminNavItems = document.querySelectorAll('.admin-only');
            const superAdminNavItems = document.querySelectorAll('.super-admin-only');
            const memberSection = document.getElementById('member');
            const accountManageSection = document.getElementById('account-manage');
            const adminManageSection = document.getElementById('admin-manage');

            // 更新导航栏用户信息
            if (loginState.isLoggedIn) {
                let userInfoHtml = '';
                if (loginState.userType === 'admin') {
                    const roleClass = loginState.adminType === 'super' ? 'super-admin' : 'admin';
                    const roleText = loginState.adminType === 'super' ? '超级管理员' : '管理员';
                    
                    userInfoHtml = `
                        <div class="user-info">
                            <span>${loginState.username}</span>
                            <span class="user-role ${roleClass}">${roleText}</span>
                            <button class="logout-btn" id="logoutBtn">退出</button>
                        </div>
                    `;
                } else {
                    const userAccounts = getUserAccounts();
                    const user = userAccounts.find(acc => acc.username === loginState.userId);
                    const userName = user ? user.realName : '团员用户';
                    
                    userInfoHtml = `
                        <div class="user-info">
                            <span>${userName}</span>
                            <span class="user-role">团员</span>
                            <button class="logout-btn" id="logoutBtn">退出</button>
                        </div>
                    `;
                }
                userActions.innerHTML = userInfoHtml;
                document.getElementById('logoutBtn').addEventListener('click', logout);
            } else {
                userActions.innerHTML = `
                    <div class="login-buttons">
                        <button class="login-btn" id="showLoginBtn">登录</button>
                    </div>
                `;
                document.getElementById('showLoginBtn').addEventListener('click', showLoginModal);
            }

            // 显示/隐藏管理员专属内容
            if (loginState.isLoggedIn && loginState.userType === 'admin') {
                // 显示管理员专属导航项
                adminNavItems.forEach(item => item.style.display = 'block');
                
                // 如果是超级管理员，显示超级管理员专属导航项
                if (loginState.adminType === 'super') {
                    superAdminNavItems.forEach(item => item.style.display = 'block');
                    adminManageSection.style.display = 'block';
                    renderAdminList();
                } else {
                    superAdminNavItems.forEach(item => item.style.display = 'none');
                    adminManageSection.style.display = 'none';
                }
                
                // 显示管理员专属内容区块
                memberSection.style.display = 'block';
                accountManageSection.style.display = 'block';
                
                // 渲染内容
                renderMemberList();
                renderAccountList();
            } else {
                // 隐藏管理员专属导航项
                adminNavItems.forEach(item => item.style.display = 'none');
                superAdminNavItems.forEach(item => item.style.display = 'none');
                
                // 隐藏管理员专属内容区块
                memberSection.style.display = 'none';
                accountManageSection.style.display = 'none';
                accountManageSection.style.display = 'none';
            }
        }

        // ========== 登录弹窗管理 ==========
        let currentLoginType = 'user';

        function showLoginModal() {
            const modal = document.getElementById('loginModal');
            const loginError = document.getElementById('loginError');
            
            loginError.classList.remove('active');
            document.getElementById('loginForm').reset();
            
            // 重置登录类型选择
            document.querySelectorAll('.login-type-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-type') === currentLoginType) {
                    btn.classList.add('active');
                }
            });
            
            modal.classList.add('active');
        }

        function closeLoginModal() {
            document.getElementById('loginModal').classList.remove('active');
        }

        function handleLogin(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value.trim();
            const loginError = document.getElementById('loginError');
            
            if (currentLoginType === 'admin') {
                // 管理员登录验证
                const adminAccounts = getAdminAccounts();
                const admin = adminAccounts.find(acc => acc.username === username && acc.password === password);
                
                if (admin) {
                    setLoginState(true, 'admin', username, username, admin.type);
                    closeLoginModal();
                    showToast(`管理员登录成功！${admin.type === 'super' ? '（超级管理员）' : ''}`);
                } else {
                    loginError.classList.add('active');
                }
            } else {
                // 普通用户登录验证
                const userAccounts = getUserAccounts();
                const user = userAccounts.find(acc => acc.username === username && acc.password === password);
                
                if (user) {
                    setLoginState(true, 'user', username, user.realName, '');
                    closeLoginModal();
                    showToast(`欢迎回来，${user.realName}！`);
                } else {
                    loginError.classList.add('active');
                }
            }
        }

        // ========== 普通用户账号管理 ==========
        function initUserAccounts() {
            if (!localStorage.getItem(SYSTEM_CONFIG.storageKeys.userAccounts)) {
                localStorage.setItem(SYSTEM_CONFIG.storageKeys.userAccounts, JSON.stringify([]));
            }
        }

        function getUserAccounts() {
            return JSON.parse(localStorage.getItem(SYSTEM_CONFIG.storageKeys.userAccounts)) || [];
        }

        function saveUserAccounts(userAccounts) {
            localStorage.setItem(SYSTEM_CONFIG.storageKeys.userAccounts, JSON.stringify(userAccounts));
        }

        function assignMemberAccount(memberId, username, password) {
            const members = getMembers();
            const member = members.find(m => m.id === memberId);
            if (!member) {
                showToast('团员信息不存在！', true);
                return false;
            }

            const userAccounts = getUserAccounts();
            
            // 检查用户名是否已存在（包括管理员账号）
            const adminAccounts = getAdminAccounts();
            if (userAccounts.some(acc => acc.username === username) || 
                adminAccounts.some(acc => acc.username === username)) {
                showToast('用户名已存在，请更换！', true);
                return false;
            }

            userAccounts.push({
                id: Date.now(),
                memberId: memberId,
                username: username,
                password: password,
                realName: member.name,
                createTime: new Date().toISOString(),
                passwordReset: false
            });

            saveUserAccounts(userAccounts);
            showToast(`已为${member.name}分配账号：${username}`);
            renderMemberList();
            renderAccountList();
            return true;
        }

        function updateMemberAccount(accountId, newUsername = null, newPassword = null) {
            const userAccounts = getUserAccounts();
            const adminAccounts = getAdminAccounts();
            const accountIndex = userAccounts.findIndex(acc => acc.id === accountId);

            if (accountIndex === -1) {
                showToast('账号信息不存在！', true);
                return false;
            }

            // 如果修改用户名，检查是否重复
            if (newUsername && newUsername !== userAccounts[accountIndex].username) {
                // 检查用户名是否已存在（包括管理员账号）
                if (userAccounts.some(acc => acc.username === newUsername && acc.id !== accountId) ||
                    adminAccounts.some(acc => acc.username === newUsername)) {
                    showToast('用户名已存在，请更换！', true);
                    return false;
                }
                userAccounts[accountIndex].username = newUsername;
            }

            // 如果修改密码
            if (newPassword) {
                userAccounts[accountIndex].password = newPassword;
                userAccounts[accountIndex].passwordReset = true;
            }

            saveUserAccounts(userAccounts);
            showToast('账号信息已更新！');
            renderAccountList();
            
            // 如果当前登录用户修改了自己的账号，需要更新登录状态
            const loginState = getLoginState();
            if (loginState.isLoggedIn && loginState.userType === 'user' && 
                loginState.userId === userAccounts[accountIndex].username) {
                setLoginState(true, 'user', userAccounts[accountIndex].username, 
                    userAccounts[accountIndex].realName, '');
            }
            
            return true;
        }

        // ========== 修改账号弹窗 ==========
        function openEditAccountModal(accountId) {
            const userAccounts = getUserAccounts();
            const account = userAccounts.find(acc => acc.id === accountId);

            if (!account) {
                showToast('账号信息不存在！', true);
                return;
            }

            const modal = document.getElementById('editAccountModal');
            const form = document.getElementById('editAccountForm');

            form.reset();
            document.getElementById('editAccountId').value = account.id;
            document.getElementById('editMemberId').value = account.memberId;
            document.getElementById('editUsername').value = account.username;

            modal.classList.add('active');
        }

        // ========== 渲染账号管理列表 ==========
        function renderAccountList(filterType = 'all', keyword = '') {
            const loginState = getLoginState();
            if (!loginState.isLoggedIn || loginState.userType !== 'admin') return;

            const members = getMembers();
            const userAccounts = getUserAccounts();
            const tableBody = document.getElementById('accountTableBody');
            tableBody.innerHTML = '';

            let displayData = [];

            if (filterType === 'all') {
                displayData = userAccounts.map(account => {
                    const member = members.find(m => m.id === account.memberId) || {};
                    return {
                        ...account,
                        memberName: member.name || '未知团员',
                        studentId: member.studentId || '-',
                        branch: member.branch || '-'
                    };
                });
            } else if (filterType === 'assigned') {
                displayData = userAccounts.map(account => {
                    const member = members.find(m => m.id === account.memberId) || {};
                    return {
                        ...account,
                        memberName: member.name || '未知团员',
                        studentId: member.studentId || '-',
                        branch: member.branch || '-'
                    };
                });
            } else if (filterType === 'unassigned') {
                displayData = members.filter(member => {
                    return !userAccounts.some(acc => acc.memberId === member.id);
                }).map(member => ({
                    id: member.id,
                    memberId: member.id,
                    memberName: member.name,
                    studentId: member.studentId,
                    branch: member.branch,
                    username: '未分配',
                    password: '-',
                    passwordReset: false,
                    createTime: '-'
                }));
            }

            if (keyword) {
                displayData = displayData.filter(item =>
                    item.memberName.includes(keyword) ||
                    item.username.includes(keyword) ||
                    item.studentId.includes(keyword)
                );
            }

            if (displayData.length === 0) {
                const emptyText = filterType === 'unassigned' ?
                    '暂无未分配账号的团员' : '暂无账号数据';
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="8" style="text-align: center; padding: 30px;">${emptyText}</td>
                    </tr>
                `;
                return;
            }

            const formatDateTime = (dateStr) => {
                if (!dateStr || dateStr === '-') return '-';
                const date = new Date(dateStr);
                return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`;
            };

            displayData.forEach((item, index) => {
                const passwordStatus = item.passwordReset ?
                    '<span style="color: var(--warning-color);">已重置</span>' :
                    '<span style="color: var(--success-color);">初始密码</span>';

                let actionButtons = '';
                if (item.username !== '未分配') {
                    actionButtons = `
                        <div class="action-buttons">
                            <button class="btn btn-info edit-account-btn" data-id="${item.id}">修改账号</button>
                        </div>
                    `;
                } else {
                    actionButtons = `
                        <div class="action-buttons">
                            <button class="btn btn-success assign-account-btn" data-id="${item.memberId}">分配账号</button>
                        </div>
                    `;
                }

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${item.memberName}</td>
                    <td>${item.studentId}</td>
                    <td>${item.branch}</td>
                    <td>${item.username}</td>
                    <td>${item.username !== '未分配' ? passwordStatus : '-'}</td>
                    <td>${formatDateTime(item.createTime)}</td>
                    <td>${actionButtons}</td>
                `;
                tableBody.appendChild(row);
            });

            bindAccountActions();
        }

        // ========== 管理员账号管理 ==========
        function renderAdminList(keyword = '') {
            const loginState = getLoginState();
            if (!loginState.isLoggedIn || loginState.userType !== 'admin' || loginState.adminType !== 'super') return;

            const adminAccounts = getAdminAccounts();
            const tableBody = document.getElementById('adminTableBody');
            tableBody.innerHTML = '';

            let displayData = [...adminAccounts];

            if (keyword) {
                displayData = displayData.filter(item =>
                    item.username.includes(keyword)
                );
            }

            if (displayData.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="5" style="text-align: center; padding: 30px;">暂无管理员数据</td>
                    </tr>
                `;
                return;
            }

            const formatDateTime = (dateStr) => {
                if (!dateStr || dateStr === '-') return '-';
                const date = new Date(dateStr);
                return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`;
            };

            displayData.forEach((admin, index) => {
                const adminTypeText = admin.type === 'super' ? 
                    '<span style="color: var(--super-admin-color);">超级管理员</span>' : 
                    '<span style="color: var(--info-color);">普通管理员</span>';

                let actionButtons = '';
                if (!admin.isDefault) {
                    actionButtons = `
                        <div class="action-buttons">
                            <button class="btn btn-info edit-admin-btn" data-id="${admin.id}">编辑</button>
                            <button class="btn btn-danger delete-admin-btn" data-id="${admin.id}">删除</button>
                        </div>
                    `;
                } else {
                    actionButtons = `
                        <div class="action-buttons">
                            <button class="btn btn-info edit-admin-btn" data-id="${admin.id}">编辑</button>
                            <span style="color: var(--gray-color); font-size: 0.8rem;">（默认账号）</span>
                        </div>
                    `;
                }

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${admin.username}</td>
                    <td>${adminTypeText}</td>
                    <td>${formatDateTime(admin.createTime)}</td>
                    <td>${actionButtons}</td>
                `;
                tableBody.appendChild(row);
            });

            bindAdminActions();
        }

        // ========== 绑定账号管理操作事件 ==========
        function bindAccountActions() {
            document.querySelectorAll('.edit-account-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const accountId = parseInt(btn.getAttribute('data-id'));
                    openEditAccountModal(accountId);
                });
            });

            document.querySelectorAll('.assign-account-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const memberId = parseInt(btn.getAttribute('data-id'));
                    openAssignAccountModal(memberId);
                });
            });

            document.querySelectorAll('.account-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.account-tab').forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    const filterType = tab.getAttribute('data-tab');
                    const keyword = document.getElementById('accountSearchInput').value.trim();
                    renderAccountList(filterType, keyword);
                });
            });

            document.getElementById('accountSearchBtn').addEventListener('click', () => {
                const activeTab = document.querySelector('.account-tab.active');
                const filterType = activeTab ? activeTab.getAttribute('data-tab') : 'all';
                const keyword = document.getElementById('accountSearchInput').value.trim();
                renderAccountList(filterType, keyword);
            });

            document.getElementById('accountSearchInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    const activeTab = document.querySelector('.account-tab.active');
                    const filterType = activeTab ? activeTab.getAttribute('data-tab') : 'all';
                    const keyword = e.target.value.trim();
                    renderAccountList(filterType, keyword);
                }
            });
        }

        // ========== 绑定管理员管理操作事件 ==========
        function bindAdminActions() {
            document.querySelectorAll('.edit-admin-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const adminId = parseInt(btn.getAttribute('data-id'));
                    openAdminManageModal(adminId);
                });
            });

            document.querySelectorAll('.delete-admin-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const adminId = parseInt(btn.getAttribute('data-id'));
                    deleteAdminAccount(adminId);
                });
            });

            document.getElementById('addAdminBtn').addEventListener('click', () => {
                openAdminManageModal();
            });

            document.getElementById('adminSearchBtn').addEventListener('click', () => {
                const keyword = document.getElementById('adminSearchInput').value.trim();
                renderAdminList(keyword);
            });

            document.getElementById('adminSearchInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    const keyword = e.target.value.trim();
                    renderAdminList(keyword);
                }
            });
        }

        // ========== 管理员管理弹窗 ==========
        function openAdminManageModal(adminId = null) {
            const modal = document.getElementById('adminManageModal');
            const form = document.getElementById('adminManageForm');
            
            form.reset();
            
            if (adminId) {
                // 编辑模式
                const adminAccounts = getAdminAccounts();
                const admin = adminAccounts.find(acc => acc.id === adminId);
                
                if (admin) {
                    document.getElementById('adminId').value = admin.id;
                    document.getElementById('adminUsername').value = admin.username;
                    document.getElementById('adminPassword').value = admin.password;
                    document.getElementById('adminType').value = admin.type;
                }
            } else {
                // 新增模式
                document.getElementById('adminId').value = '';
                document.getElementById('adminPassword').value = '123456'; // 默认密码
            }
            
            modal.classList.add('active');
        }

        function deleteAdminAccount(adminId) {
            const adminAccounts = getAdminAccounts();
            const admin = adminAccounts.find(acc => acc.id === adminId);
            
            if (!admin) {
                showToast('管理员账号不存在！', true);
                return;
            }
            
            if (admin.isDefault) {
                showToast('默认管理员账号不能删除！', true);
                return;
            }
            
            if (confirm(`确定要删除管理员 "${admin.username}" 吗？`)) {
                const newAdminAccounts = adminAccounts.filter(acc => acc.id !== adminId);
                saveAdminAccounts(newAdminAccounts);
                showToast('管理员账号已删除！');
                renderAdminList();
            }
        }

        function saveAdminAccount(e) {
            e.preventDefault();
            
            const adminId = document.getElementById('adminId').value;
            const username = document.getElementById('adminUsername').value.trim();
            const password = document.getElementById('adminPassword').value.trim();
            const type = document.getElementById('adminType').value;
            
            if (!username || !password) {
                showToast('用户名和密码不能为空！', true);
                return;
            }
            
            const adminAccounts = getAdminAccounts();
            
            if (adminId) {
                // 编辑模式
                const index = adminAccounts.findIndex(acc => acc.id === parseInt(adminId));
                if (index !== -1) {
                    // 检查用户名是否重复（排除自己）
                    const duplicate = adminAccounts.find(acc => 
                        acc.username === username && acc.id !== parseInt(adminId));
                    
                    if (duplicate) {
                        showToast('用户名已存在！', true);
                        return;
                    }
                    
                    adminAccounts[index].username = username;
                    adminAccounts[index].password = password;
                    adminAccounts[index].type = type;
                    
                    saveAdminAccounts(adminAccounts);
                    showToast('管理员账号已更新！');
                }
            } else {
                // 新增模式
                // 检查用户名是否重复
                const duplicate = adminAccounts.find(acc => acc.username === username);
                
                if (duplicate) {
                    showToast('用户名已存在！', true);
                    return;
                }
                
                const newId = adminAccounts.length > 0 ? Math.max(...adminAccounts.map(a => a.id)) + 1 : 1;
                
                adminAccounts.push({
                    id: newId,
                    username: username,
                    password: password,
                    type: type,
                    createTime: new Date().toISOString(),
                    isDefault: false
                });
                
                saveAdminAccounts(adminAccounts);
                showToast('管理员账号已添加！');
            }
            
            document.getElementById('adminManageModal').classList.remove('active');
            renderAdminList();
        }

        // ========== 团员数据管理 ==========
        function initMemberData() {
            if (!localStorage.getItem(SYSTEM_CONFIG.storageKeys.members)) {
                const defaultMembers = [
                    {
                        id: 1,
                        name: '张三',
                        gender: '男',
                        birthDate: '2000-05-12',
                        studentId: '2024001',
                        branch: '计算机学院2024级1支部',
                        joinDate: '2022-06-01',
                        phone: '13800138000'
                    },
                    {
                        id: 2,
                        name: '李四',
                        gender: '女',
                        birthDate: '2001-08-23',
                        studentId: '2024002',
                        branch: '文学院2024级2支部',
                        joinDate: '2023-03-15',
                        phone: '13900139000'
                    },
                    {
                        id: 3,
                        name: '王五',
                        gender: '男',
                        birthDate: '2000-11-05',
                        studentId: '2024003',
                        branch: '计算机学院2024级1支部',
                        joinDate: '2022-09-20',
                        phone: '13700137000'
                    }
                ];
                localStorage.setItem(SYSTEM_CONFIG.storageKeys.members, JSON.stringify(defaultMembers));
            }
        }

        function getMembers() {
            return JSON.parse(localStorage.getItem(SYSTEM_CONFIG.storageKeys.members)) || [];
        }

        function saveMembers(members) {
            localStorage.setItem(SYSTEM_CONFIG.storageKeys.members, JSON.stringify(members));
        }

        function renderMemberList(filteredMembers = null) {
            const loginState = getLoginState();
            if (!loginState.isLoggedIn || loginState.userType !== 'admin') return;

            let members = filteredMembers || getMembers();
            const userAccounts = getUserAccounts();
            const tableBody = document.getElementById('memberTableBody');
            tableBody.innerHTML = '';

            if (members.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="10" style="text-align: center; padding: 30px;">暂无团员数据</td>
                    </tr>
                `;
                return;
            }

            members.forEach((member, index) => {
                const hasAccount = userAccounts.some(acc => acc.memberId === member.id);
                const accountStatus = hasAccount ?
                    '<span style="color: var(--success-color);">已分配</span>' :
                    '<span style="color: var(--warning-color);">未分配</span>';

                const actionButtons = `
                    <div class="action-buttons">
                        <button class="btn btn-success edit-btn" data-id="${member.id}">编辑</button>
                        <button class="btn btn-danger delete-btn" data-id="${member.id}">删除</button>
                        ${hasAccount ?
                            '<button class="btn btn-info account-btn" data-id="' + member.id + '" disabled>已分配账号</button>' :
                            '<button class="btn btn-info account-btn" data-id="' + member.id + '">分配账号</button>'
                        }
                    </div>
                `;

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${member.name}</td>
                    <td>${member.gender}</td>
                    <td>${formatDate(member.birthDate)}</td>
                    <td>${member.studentId}</td>
                    <td>${member.branch}</td>
                    <td>${formatDate(member.joinDate)}</td>
                    <td>${member.phone || '-'}</td>
                    <td>${accountStatus}</td>
                    <td>${actionButtons}</td>
                `;
                tableBody.appendChild(row);
            });

            bindMemberActions();
        }

        function bindMemberActions() {
            document.querySelectorAll('.edit-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const memberId = parseInt(btn.getAttribute('data-id'));
                    editMember(memberId);
                });
            });

            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const memberId = parseInt(btn.getAttribute('data-id'));
                    deleteMember(memberId);
                });
            });

            document.querySelectorAll('.account-btn').forEach(btn => {
                if (!btn.disabled) {
                    btn.addEventListener('click', () => {
                        const memberId = parseInt(btn.getAttribute('data-id'));
                        openAssignAccountModal(memberId);
                    });
                }
            });
        }

        // ========== 分配账号弹窗逻辑 ==========
        function openAssignAccountModal(memberId) {
            const members = getMembers();
            const member = members.find(m => m.id === memberId);
            if (!member) {
                showToast('团员信息不存在！', true);
                return;
            }

            const modal = document.getElementById('assignAccountModal');
            const form = document.getElementById('assignAccountForm');
            const assignMemberId = document.getElementById('assignMemberId');

            assignMemberId.value = memberId;
            form.reset();
            modal.classList.add('active');

            form.onsubmit = function(e) {
                e.preventDefault();
                const username = document.getElementById('assignUsername').value.trim();
                const password = document.getElementById('assignPassword').value.trim();

                if (!username || !password) {
                    showToast('用户名和密码不能为空！', true);
                    return false;
                }

                if (assignMemberAccount(memberId, username, password)) {
                    modal.classList.remove('active');
                }
            };
        }

        // ========== 编辑团员逻辑 ==========
        function editMember(memberId) {
            const members = getMembers();
            const member = members.find(m => m.id === memberId);
            if (!member) return;

            const modal = document.getElementById('memberModal');
            const modalTitle = document.getElementById('modalTitle');
            const form = document.getElementById('memberForm');
            const memberIdInput = document.getElementById('memberId');

            modalTitle.textContent = '编辑团员信息';
            memberIdInput.value = member.id;
            document.getElementById('name').value = member.name;
            document.getElementById('gender').value = member.gender;
            document.getElementById('birthDate').value = member.birthDate;
            document.getElementById('studentId').value = member.studentId;
            document.getElementById('branch').value = member.branch;
            document.getElementById('joinDate').value = member.joinDate;
            document.getElementById('phone').value = member.phone || '';

            modal.classList.add('active');
        }

        function deleteMember(memberId) {
            if (!confirm('确定要删除该团员信息吗？此操作不可恢复！')) {
                return;
            }

            let members = getMembers();
            members = members.filter(m => m.id !== memberId);
            saveMembers(members);

            // 删除关联的用户账号
            let userAccounts = getUserAccounts();
            userAccounts = userAccounts.filter(acc => acc.memberId !== memberId);
            saveUserAccounts(userAccounts);

            showToast('团员信息已成功删除');
            renderMemberList();
            renderAccountList();
        }

        function saveMember(e) {
            e.preventDefault();

            const memberId = parseInt(document.getElementById('memberId').value || 0);
            const memberData = {
                name: document.getElementById('name').value.trim(),
                gender: document.getElementById('gender').value,
                birthDate: document.getElementById('birthDate').value,
                studentId: document.getElementById('studentId').value.trim(),
                branch: document.getElementById('branch').value.trim(),
                joinDate: document.getElementById('joinDate').value,
                phone: document.getElementById('phone').value.trim()
            };

            let members = getMembers();
            let isEdit = memberId > 0;

            if (isEdit) {
                const index = members.findIndex(m => m.id === memberId);
                if (index !== -1) {
                    members[index] = { ...members[index], ...memberData };
                    showToast('团员信息已更新');
                    
                    let userAccounts = getUserAccounts();
                    userAccounts.forEach(acc => {
                        if (acc.memberId === memberId) {
                            acc.realName = memberData.name;
                        }
                    });
                    saveUserAccounts(userAccounts);
                }
            } else {
                const newId = members.length > 0 ? Math.max(...members.map(m => m.id)) + 1 : 1;
                memberData.id = newId;
                members.push(memberData);
                showToast('新团员已添加');
            }

            saveMembers(members);
            
            document.getElementById('memberModal').classList.remove('active');
            renderMemberList();
            renderAccountList();
        }

        function searchMembers() {
            const keyword = document.getElementById('searchInput').value.trim().toLowerCase();
            if (!keyword) {
                renderMemberList();
                return;
            }

            const members = getMembers();
            const filteredMembers = members.filter(member => 
                member.name.toLowerCase().includes(keyword) ||
                member.studentId.toLowerCase().includes(keyword) ||
                member.branch.toLowerCase().includes(keyword)
            );

            renderMemberList(filteredMembers);
        }

        // ========== 工具函数 ==========
        function formatDate(dateStr) {
            if (!dateStr) return '';
            const date = new Date(dateStr);
            return date.getFullYear() + '-' + 
                   String(date.getMonth() + 1).padStart(2, '0') + '-' + 
                   String(date.getDate()).padStart(2, '0');
        }

        function showToast(message, isError = false) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = 'toast';
            if (isError) {
                toast.classList.add('error');
            }
            toast.classList.add('active');

            setTimeout(() => {
                toast.classList.remove('active');
            }, 3000);
        }

        // ========== 轮播图功能 ==========
        function initCarousel() {
            const slides = document.querySelector('.carousel-slides');
            const prevBtn = document.querySelector('.prev-btn');
            const nextBtn = document.querySelector('.next-btn');
            const indicators = document.querySelectorAll('.indicator');
            let currentIndex = 0;

            function goToSlide(index) {
                currentIndex = index;
                slides.style.transform = `translateX(-${currentIndex * 33.33}%)`;
                indicators.forEach((indicator, i) => {
                    indicator.classList.toggle('active', i === currentIndex);
                });
            }

            nextBtn.addEventListener('click', () => {
                currentIndex = (currentIndex + 1) % 3;
                goToSlide(currentIndex);
            });

            prevBtn.addEventListener('click', () => {
                currentIndex = (currentIndex - 1 + 3) % 3;
                goToSlide(currentIndex);
            });

            indicators.forEach((indicator, index) => {
                indicator.addEventListener('click', () => goToSlide(index));
            });

            setInterval(() => {
                currentIndex = (currentIndex + 1) % 3;
                goToSlide(currentIndex);
            }, 5000);
        }

        // ========== 移动端导航菜单 ==========
        function initMobileMenu() {
            const menuToggle = document.querySelector('.menu-toggle');
            const navMenu = document.querySelector('.nav-menu');

            menuToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
            });

            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', () => {
                    navMenu.classList.remove('active');
                });
            });
        }

        // ========== 页面初始化 ==========
        function initPage() {
            // 初始化数据存储
            initMemberData();
            initUserAccounts();
            initAdminAccounts();
            
            // 更新UI状态
            updateUI();
            
            // 初始化轮播图和移动端菜单
            initCarousel();
            initMobileMenu();

            // ========== 绑定全局事件 ==========
            // 登录弹窗事件
            document.getElementById('showLoginBtn').addEventListener('click', showLoginModal);
            
            // 登录类型选择
            document.querySelectorAll('.login-type-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.login-type-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentLoginType = this.getAttribute('data-type');
                });
            });
            
            // 登录表单提交
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            
            // 关闭登录弹窗
            document.getElementById('loginModalClose').addEventListener('click', closeLoginModal);
            
            // 团员表单提交
            document.getElementById('memberForm').addEventListener('submit', saveMember);
            
            // 管理员表单提交
            document.getElementById('adminManageForm').addEventListener('submit', saveAdminAccount);

            // 新增团员按钮
            document.getElementById('addMemberBtn').addEventListener('click', () => {
                const modal = document.getElementById('memberModal');
                const modalTitle = document.getElementById('modalTitle');
                const form = document.getElementById('memberForm');
                        
                modalTitle.textContent = '新增团员';
                form.reset();
                document.getElementById('memberId').value = '';
                modal.classList.add('active');
            });

            // 关闭团员弹窗
            document.getElementById('modalClose').addEventListener('click', () => {
                document.getElementById('memberModal').classList.remove('active');
            });
            document.getElementById('cancelBtn').addEventListener('click', () => {
                document.getElementById('memberModal').classList.remove('active');
            });

            // 关闭分配账号弹窗
            document.getElementById('assignAccountModalClose').addEventListener('click', () => {
                document.getElementById('assignAccountModal').classList.remove('active');
            });
            document.getElementById('cancelAssignBtn').addEventListener('click', () => {
                document.getElementById('assignAccountModal').classList.remove('active');
            });

            // 关闭修改账号弹窗
            document.getElementById('editAccountModalClose').addEventListener('click', () => {
                document.getElementById('editAccountModal').classList.remove('active');
            });
            document.getElementById('cancelEditBtn').addEventListener('click', () => {
                document.getElementById('editAccountModal').classList.remove('active');
            });

            // 关闭管理员管理弹窗
            document.getElementById('adminManageModalClose').addEventListener('click', () => {
                document.getElementById('adminManageModal').classList.remove('active');
            });
            document.getElementById('cancelAdminBtn').addEventListener('click', () => {
                document.getElementById('adminManageModal').classList.remove('active');
            });

            // 修改账号表单提交
            document.getElementById('editAccountForm').addEventListener('submit', (e) => {
                e.preventDefault();
                const accountId = parseInt(document.getElementById('editAccountId').value);
                const newUsername = document.getElementById('editUsername').value.trim();
                const newPassword = document.getElementById('editPassword').value.trim();
                        
                if (newUsername || newPassword) {
                    if (updateMemberAccount(accountId, newUsername, newPassword)) {
                        document.getElementById('editAccountModal').classList.remove('active');
                    }
                } else {
                    showToast('请输入要修改的信息！', true);
                }
            });

            // 重置密码按钮
            document.getElementById('resetPwdBtn').addEventListener('click', () => {
                document.getElementById('editPassword').value = '123456';
                showToast('密码已重置为默认值：123456');
            });

            // 团员搜索
            document.getElementById('searchBtn').addEventListener('click', searchMembers);
            document.getElementById('searchInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') searchMembers();
            });

            // 点击弹窗外部关闭
            window.addEventListener('click', (e) => {
                const modals = [
                    document.getElementById('loginModal'),
                    document.getElementById('memberModal'),
                    document.getElementById('assignAccountModal'),
                    document.getElementById('editAccountModal'),
                    document.getElementById('adminManageModal')
                ];
                        
                modals.forEach(modal => {
                    if (e.target === modal) {
                        modal.classList.remove('active');
                    }
                });
            });
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', initPage);
    </script>
</body>
</html>